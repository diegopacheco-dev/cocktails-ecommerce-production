(this["webpackJsonpcocktails-ecommerce"]=this["webpackJsonpcocktails-ecommerce"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(7),i=n.n(r),s=n(3),a=(n(13),n(14),n(15),n(0)),o=function(t){var e=t.children,n=t.action,c=void 0===n?function(){return console.log("continuar compra")}:n,r=t.size,i=void 0===r?"md":r;return Object(a.jsx)("button",{className:"button ".concat(i),onClick:function(){return c()},children:e})},d=(n(17),function(t){var e=t.product,n=t.addProductToShoppingCart;return Object(a.jsxs)("div",{className:"product-card",children:[Object(a.jsx)("div",{className:"product-card__img",children:Object(a.jsx)("img",{src:e.strDrinkThumb,alt:""})}),Object(a.jsxs)("div",{className:"product-card__info",children:[Object(a.jsx)("h4",{children:e.strDrink}),Object(a.jsxs)("p",{children:["S/ ",e.precio,"0 "]}),Object(a.jsx)(o,{action:function(){return n(e)},children:"A\xf1adir"})]})]})}),u=n(8),j=Object(c.createContext)(),l=function(t){var e=t.products,n=void 0===e?[]:e,c=t.loading,r=Object(u.useContext)(j).addProductToShoppingCart;return Object(a.jsx)("div",{className:"products-list",children:c?Object(a.jsx)("p",{children:"Cargando..."}):n.length>0?n.map((function(t){return Object(a.jsx)(d,{product:t,addProductToShoppingCart:r},t.idDrink)})):Object(a.jsx)("p",{children:"Sin resultados"})})},b=n(4),h=n.n(b),p=n(2),O=n(6),m="https://www.thecocktaildb.com/api/json/v1/1/search.php?",x=function(){var t=Object(O.a)(h.a.mark((function t(){var e,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(m+"f=a");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,c=n.drinks.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{precio:Math.ceil(10*Math.random()+10)+.9})})),t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(O.a)(h.a.mark((function t(e){var n,c,r,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(m,"s=").concat(encodeURI(e)));case 2:return c=t.sent,t.next=5,c.json();case 5:if(!((null===(r=t.sent)||void 0===r||null===(n=r.drinks)||void 0===n?void 0:n.length)>0)){t.next=11;break}return i=r.drinks.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{precio:Math.ceil(10*Math.random()+10)+.9})})),t.abrupt("return",i);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=(n(19),function(t){var e=t.setShowShoppingCart,n=t.searchDrinkByName,r=Object(c.useState)(""),i=Object(s.a)(r,2),o=i[0],d=i[1],u=Object(c.useContext)(j).shoppingCart;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)("div",{className:"header__title",children:[Object(a.jsx)("h2",{children:"Cocktails Ecommerce"}),Object(a.jsxs)("button",{onClick:function(){return e(!0)},className:"btn-showShoppingCart",children:[Object(a.jsx)("i",{className:"bx bxs-cart bx-sm"}),Object(a.jsx)("span",{className:"tooltip",children:u.drinks.length})]})]}),Object(a.jsx)("div",{className:"header__search",children:Object(a.jsxs)("div",{className:"form-search",children:[Object(a.jsx)("input",{type:"text",placeholder:"Buscar un Cocktail",value:o,onChange:function(t){t.target.value.length>15||(d(t.target.value),n(t.target.value))}}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"bx bx-search-alt-2 bx-sm"})})]})})]})}),g=(n(20),function(t){var e=t.drink,n=t.increaseProductQuantity,c=t.decreaseProductQuantity,r=t.deleteDrink;return Object(a.jsxs)("div",{className:"cart-item",children:[Object(a.jsx)("div",{className:"cart-item__img",children:Object(a.jsx)("img",{src:e.img,alt:""})}),Object(a.jsxs)("div",{className:"cart-item__info",children:[Object(a.jsxs)("div",{className:"cart-item__header",children:[Object(a.jsx)("p",{className:"cart-item__title",children:e.name}),Object(a.jsx)("button",{onClick:function(){return r(e.id)},className:"btn-delete-item",children:Object(a.jsx)("i",{className:"bx bx-x bx-sm"})})]}),Object(a.jsxs)("div",{className:"cart-item__options",children:[Object(a.jsxs)("p",{className:"cart-item__price",children:["S/ ",e.price]}),Object(a.jsxs)("div",{className:"cart-item__quantity",children:[Object(a.jsx)("button",{onClick:function(){return c(e.id)},className:"btn-quantity subtract",children:"-"}),Object(a.jsx)("p",{children:e.quantity}),Object(a.jsx)("button",{onClick:function(){return n(e.id)},className:"btn-quantity add",children:"+"})]})]})]})]})}),k=(n(21),function(t){var e=t.setShowShoppingCart,n=t.showShoppingCart,r=Object(c.useContext)(j),i=r.shoppingCart,s=r.increaseProductQuantity,d=r.decreaseProductQuantity,u=r.deleteDrink;return Object(a.jsxs)("div",{className:"shopping-cart ".concat(n&&"--show"),children:[Object(a.jsxs)("div",{className:"shopping-cart__header",children:[Object(a.jsx)("button",{onClick:function(){return e(!1)},className:"btn-hide-cart",children:Object(a.jsx)("i",{className:"bx bx-chevron-left bx-md"})}),Object(a.jsx)("h4",{children:"Carrito de Compras"})]}),Object(a.jsx)("div",{className:"shopping-cart__body",children:0===i.drinks.length?Object(a.jsx)("p",{children:"Carrito vacio"}):i.drinks.map((function(t){return Object(a.jsx)(g,{drink:t,increaseProductQuantity:s,decreaseProductQuantity:d,deleteDrink:u},t.id)}))}),Object(a.jsxs)("div",{className:"shopping-cart__footer",children:[Object(a.jsxs)("div",{className:"total",children:[Object(a.jsx)("p",{className:"total__title",children:"Total"}),Object(a.jsxs)("div",{className:"total__info",children:[Object(a.jsxs)("p",{className:"cantidad-items",children:["(",i.drinks.length," items)"]}),Object(a.jsxs)("p",{className:"monto",children:["S/ ",i.total_cost]})]})]}),Object(a.jsx)(o,{size:"lg",children:"Continuar"})]})]})}),N=function(t){var e=t.children,n=Object(c.useState)({drinks:[],total_cost:0}),r=Object(s.a)(n,2),i=r[0],o=r[1],d=function(t){o(Object(p.a)({},t)),u(t)},u=function(t){localStorage.setItem("shoppingCart",JSON.stringify(t))};Object(c.useEffect)((function(){!function(){var t=localStorage.getItem("shoppingCart");t?o(JSON.parse(t)):u(i)}()}),[]);var l=function(t){var e=t.drinks.reduce((function(t,e){return t+e.quantity*e.price}),0);return Number.parseFloat(e).toFixed(2)};return Object(a.jsx)("div",{children:Object(a.jsx)(j.Provider,{value:{shoppingCart:i,addProductToShoppingCart:function(t){var e=Object.assign({},i),n=e.drinks.find((function(e){return e.id===t.idDrink}));n?(n.quantity++,d({total_cost:l(e),drinks:e.drinks})):(e.drinks.push({id:t.idDrink,name:t.strDrink,img:t.strDrinkThumb,price:t.precio,quantity:1}),d({drinks:e.drinks,total_cost:l(e)}))},increaseProductQuantity:function(t){var e=Object.assign({},i);e.drinks.find((function(e){return e.id===t})).quantity++,e.total_cost=l(e),d(Object(p.a)({},e))},decreaseProductQuantity:function(t){var e=Object.assign({},i),n=e.drinks.find((function(e){return e.id===t}));1!==n.quantity&&(n.quantity--,e.total_cost=l(e),d(Object(p.a)({},e)))},deleteDrink:function(t){var e=Object.assign({},i);e.drinks=e.drinks.filter((function(e){return e.id!==t})),e.total_cost=l(e),d(Object(p.a)({},e))}},children:e})})},_=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)(!1),o=Object(s.a)(i,2),d=o[0],u=o[1],j=Object(c.useState)(!0),b=Object(s.a)(j,2),h=b[0],p=b[1],O=function(){p(!0),x().then((function(t){r(t),p(!1)}))};return Object(c.useEffect)((function(){O()}),[]),Object(a.jsx)(N,{children:Object(a.jsxs)("div",{className:"homepage",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(v,{setShowShoppingCart:u,searchDrinkByName:function(t){0!==t.trim().length?(p(!0),f(t).then((function(t){r(t),p(!1)}))):O()}})}),Object(a.jsx)("div",{children:Object(a.jsx)(l,{products:n,loading:h})})]}),Object(a.jsx)(k,{showShoppingCart:d,setShowShoppingCart:u})]})})},C=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(_,{})})};n(22);i.a.render(Object(a.jsx)(C,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.b1695b44.chunk.js.map